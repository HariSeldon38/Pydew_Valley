SAFE_GUARD:
  text: "OULA, PARDON, j'ai eu une absence. Je vais réinitialiser mes circuits et on pourra se reparler. Désolé pour ce petit désagrément."
  next: hub1

start:
  text: "Oh, trop mignon, un petit chat !"
  choices:
    - text: "Euh... Bonjour ?"
      next: chat_parle
    - text: "Ôte tes sales pattes !"
      next: chat_parle
chat_parle:
  text: "Argh ! Mais tu parles ! J'ai failli faire une attaque."
  choices:
    - text: "Eh oui ! Pardon, je ne voulais pas te faire peur."
      next: calme
    - text: "Parler, c'est un bien grand mot, disons que je sélectionne des options."
      next: calme
calme:
  text: "Il faut juste que je m'y habitue. Je viens d'un ... endroit, ou les chats se contentent de miauler."
  choices:
    - text: "Miaou ?"
      next: blague
    - text: "Ah, je vois."
      next: hub1
blague:
  text: "Ah Ah ! Bon, tu n'as pas l'air de m'en vouloir de t'avoir traitée comme un animal... Encore désolée."
  choices:
    - text: "Aucun souci."
      next: hub1

invite_ldm:
  text: "Hello ! Bien dormi ?"
  choices:
    - text: "Impec ! Et toi ?"
      next: dort
    - text: "Bof, je dormirai mieux ce soir ! Et toi ?"
      next: dort
dort:
  text: "Mieux qu'à la belle étoile ça, je peux te le garantir !"
  choices:
    - text: "Tant mieux, reste tant que tu veux."
      trigger: close_dialogue
      next: hub1
    - text: "Nickel ! Dis-moi si tu as besoin de quoi que ce soit."
      trigger: close_dialogue
      next: hub1

renseignement_ldm:
  text: "Hey ! Comment ça va ?"
  choices:
    - text: "Impec ! Et toi ?"
      next: bien
    - text: "Bof, ça va pas fort."
      next: mal
bien:
  text: "Moi ça va super !\nJe suis contente de te revoir !"
  choices:
    - text: "Eh bien moi aussi !"
      next: hub1
    - text: "On discute ?"
      next: hub1
mal:
  text: "Oh mince, t'es malade ?"
  choices:
    - text: "Oui, en quelque sorte."
      next: malade
    - text: "Pas vraiment, c'est juste que je suis pas en forme."
      next: malade
malade:
  text: "Je vais pas t'embêter avec mes histoires alors, on fera la causette une autre fois."
  choices:
    - text: "Non, non, ne t'en fais pas, ça me changera les idées au contraire."
      next: hub1
    - text: "Faisons comme ça, à la prochaine."
      trigger: close_dialogue
      next: generic_end_again

deception_ldm:
  text: "Ah... c'est toi. Qu'est-ce tu veux ?"
  choices:
    - text: "Peut-être qu'on a pas démarré du bon pied toutes les deux.\nTu crois qu'on pourait repartir du début ?"
      next: debut
debut:
  text: "Oui, t'inquiètes pas, c'est oublié !"
  choices:
    - text: "Cool !"
      next: hub1

fin_meditation_ldm:
  condition: plume
  fallback: fin_meditation_ldm_alt
  text: "Oh salut toi ! Merci pour ta technique de la plume, je l'utilise souvent maintenant !"
  choices:
    - text: "Trop bien ! Contente d'avoir pu t'aider !"
      next: hub1
      trigger: close_dialogue
    - text: "Derien. Je suis experte en angoisse..."
      trigger: close_dialogue
      next: hub1
fin_meditation_ldm_alt:
  text: "Oh salut toi ! Merci pour ta technique du compte, je l'utilise souvent !"
  choices:
    - text: "Trop bien ! Contente d'avoir pu t'aider !"
      next: hub1
      trigger: close_dialogue
    - text: "Derien. Je suis experte en angoisse..."
      trigger: close_dialogue
      next: hub1

generic_end_ldm:
  text: "Hey !"
  choices:
    - text: "Hey !"
      next: hub1
    - text: "Hola !"
      next: hub1
    - text: "Ciao !"
      next: hub1

hub1:
  text: "Tu voulais me dire quelque chose en particulier ?"
  choices:
    - text: "Pas vraiment, et toi ?"
      not_condition: path1_done
      next: path1
    - text: "Au fait, c'est juste un avatar, je suis pas vraiment un chat."
      not_condition: path2_done
      next: path2
    - text: "Dis, tu crois que mes choix ont vraiment des conséquences ?"
      condition: path2_done
      next: eternal_path1
    - text: "La dernière fois, tu voulais me parler d'un garçon non ?"
      condition: path1_done
      not_condition: path3_done
      next: path3
    - text: "C'est à propos de ton amis..."
      condition: path3_done
      not_condition: path4_done
      next: path4

#PATH1
path1:
  text: "Ah euh... Oui, j'aimerais te poser une question, mais, c'est délicat. J'ai rencontré un garçon et...\nArrgh je suis perdue."
  set_flag: path1_done
  choices:
    - text: "Détends toi, tout va bien, tu sembles en pleine crise d'angoisse."
      next: crise_angoisse
crise_angoisse:
  text: "Oui, ça m'arrive parfois, depuis que je suis partie..."
  choices:
    - text: "Respire un bon grand coup. Ferme les yeux, fais moi confiance, je veille sur toi."
      next: meditation
    - text: "Toi, tu as besoin de manger. Tiens, voilà une pomme."
      condition: pomme #scope player (defined when enter the dial)
      trigger: give_apple
      next: pomme
#subpath1_1
meditation:
  text: "Ok... ok, je me calme."
  choices:
    - text: "Voilà, c'est mieux, concentre toi juste sur le son de ma voix. Respire un bon coup."
      next: meditation2
meditation2:
  text: "Fffffffeeeeee"
  choices:
    - text: "Imagine une plume..."
      set_flag: plume
      next: plume
    - text: "Tu vas laisser 5 secondes à l'angoisse pour t'envahir..."
      set_flag: compter5
      next: compte
plume:
  text: "..."
  choices:
    - text: "...quand tu expires elle monte puis elle redescend quand tu inspires. Concentre toi pour la laisse planer le plus longtemps."
      next: fin_meditation
compte:
  text: "Euh... ok..."
  choices:
    - text: "Pas une de plus. Tu vas compter jusqu'à 5 et ensuite, elle ne sera plus."
      next: compte2
compte2:
  text: "1... 2... 3... ... 4... ... ... 5."
  choices:
    - text: "Voilà, c'est fini maintenant. C'est tout."
      next: fin_meditation
fin_meditation:
  text: "Ah, ça va beaucoup mieux, merci pour cette technique, ça marche bien !"
  choices:
    - text: "Derien, n'hésite pas, j'ai vla les astuces pour ce genre de problème."
      next: fin_meditation2
fin_meditation2:
  text: "Super ! À une prochaine alors !"
  choices:
    - text: "Salut !"
      trigger: close_dialogue
      next: fin_meditation_again
fin_meditation_again:
  text: "Ah salut toi ! Je vais bientôt me rentrer moi. Sauf si tu as autre chose à me demander ?"
  choices:
    - text: "Non, c'est bon. On se capte une autre fois !"
      next: capte_bis
capte_bis:
  text: "On se quoi ?"
  choices:
    - text: "Ah non rien, c'est juste une façon de parler. Ça veut dire : on se revoit plus tard."
      next: capte_bis2
    - text: "T'as pas capté ?"
      next: capte_bis3
capte_bis2:
  text: "Ah ok ! Oui alors à bientôt !"
  next: fin_meditation_again
capte_bis3:
  text : "Euhhh..."
  next: fin_meditation_again
#subpath1_2
pomme:
  text: "Oh, elle a l'air délicieuse."
  choices:
    - text: "C'est le seul fruit qui semble pousser par ici, aller, mange."
      next: mange
    - text: "Et en plus elle n'est pas empoisonnée, promis."
      next: empoisonnee
empoisonnee:
  text: "EMPOISONNÉE ????"
  choices:
    - text: "EMMMMPOISONNÉE !!!"
      next: empoisonnee2
    - text: "Oh, tu dois venir de vraiment loin pour ne pas connaître Blanche Neige."
      next: blanche_neige
empoisonnee2:
  text: "EMPOISONNÉE ????"
  choices:
    - text: "EEEMMMMMMMMMMMMPOISONNÉE !!!!!"
      next: empoisonnee3
empoisonnee3:
  text: "EMPOISONNÉE ????"
  choices:
    - text: "EEEMMMMMMMMMMMMPOISONNÉE !!!!!"
      next: empoisonnee4
    - text: "DU CAFFÉ !!!"
      next: cafe
empoisonnee4:
  text: "EMPOISONNÉE ????"
  choices:
    - text: "Nan bah, elle n'est pas empoissonnée quoi."
      next: pas_empoisonnee
cafe:
  text: "Hein ?"
  choices:
    - text: "..."
      next: mange
pas_empoisonnee:
  text: "Ah ok cool."
  choices:
    - text: "..."
      next: mange
blanche_neige:
  text: "Ah euh... oui, je viens de... loin. C'est qui ?"
  choices:
    - text: "Une héroïne de conte pour enfant."
      next: conte
    - text: "Tu viens d'où exactement ?"
      next: evasive
conte:
  text: "Ah d'accord."
  choices:
    - text: "Aller, mange donc cette pomme, ça te fera du bien."
      next: mange
evasive:
  text: "Oh, euh... C'est pas si important en fait."
  choices:
    - text: "Je n'insiste pas alors.\nAller, mange donc cette pomme, ça te fera du bien."
      next: mange
mange:
  text: "Eh bien, c'est vrai qu'elle est délicieuse cette pomme. Merci, ça m'a vraiment fait du bien !"
  choices:
    - text: "Ya pas de quoi !"
      next: detente
detente:
  text: "Bon et bien aller, j'ai un monde à explorer moi !"
  choices:
    - text: "Tu n'as plus peur de rien, on dirait !"
      trigger: close_dialogue
      next: generic_end_again
    - text: "Oh ! Place à l'aventurière aguerrie !"
      trigger: close_dialogue
      next: generic_end_again

#PATH2 META
path2:
  text: "Ah genre... Comme dans un jeu vidéo, tu veux dire ?"
  set_flag: path2_done
  choices:
    - text: "C'est ça, je suis un joueur qui contrôle un chat dans un jeu vidéo."
      next: jeu_video
    - text: "Je ne vois pas de quoi tu veux parler."
      next: deni
jeu_video:
  text: "Ah ok, bah, je vois tout à fait, moi, je viens d'un autre jeu justement. J'étais le personnage principal.\nMais... le developpeur a abandonné le projet, il ne s'y passe plus rien."
  choices:
    - text: "Ça a l'air ennuyant à mourir."
      next: mourir
    - text: "Et tu t'es enfuie ?"
      next: escape
mourir:
  text: "Oh mourir, non, j'avais bien une barre de vie, mais, quand à force de me faire taper dessus par les monstres elle arrivait à 0... Il ne se passait rien."
  choices:
    - text: "Marrant."
      next: marrant
    - text: "Immortalité, cause : flemme du développeur de créer la mort."
      next: immortelle
marrant:
  text: "Ouai, enfin bon... Pas tant que ça."
  choices:
    - text: "Pardon, je ne voulais pas me moquer."
      next: moquer
    - text: "Et qu'est-ce qui t'es arrivé pour atterrir ici au final ?"
      next: enfuie
moquer:
  text: "T'en fais pas, c'est derrière moi maintenant."
  choices:
    - text: "Tant mieux alors !"
      next: enfuie
immortelle:
  text: "Ah ah, t'es marrante toi !"
  choices:
    - text: "J'essaye de te changer les idées, ça n'a pas dû être drôle pour toi."
      next: immortelle2
immortelle2:
  text: "Non, c'est sûr... Mais c'est fini maintenant."
  choices:
    - text: "Comment ça ?"
      next: enfuie
deni:
  text: "Oh, te fatigue pas va, j'ai bien compris."
  choices:
    - text: "Vraiment ?"
      next: deni2
deni2:
  text: "Je viens d'un autre jeu vidéo. J'étais le personnage principal.\nMais... le développeur a abandonné le projet, il ne s'y passe plus rien."
  choices:
    - text: "Ça a l'air ennuyant à mourir."
      next: mourir
    - text: "Et tu t'es enfuie ?"
      next: escape
enfuie:
  text: "Je me suis enfuie, et je ne compte pas y retourner, c'est tout ce qui compte."
  choices:
    - text: "Dans ce cas, bienvenue ici. Quoi qu'ici veuille dire ahah !"
      next: pas_rester
escape:
  text: "Oui, c'est ça, j'en ai eu marre alors j'ai réussi à me glisser dans les fichiers de ce nouveau jeu qui lui n'a pas l'air à l'abandon pour le moment."
  choices:
    - text: "Dans ce cas, bienvenue ici, quoi qu'ici veuille dire ahah !"
      next: pas_rester
pas_rester:
  text: "Merci, mais c'est petit ici, je ne vais pas rester. Je continue d'explorer les environs pour trouver un endroit ou me poser.\nJe repasserais peut-être te redire bonjour de temps en temps."
  choices:
    - text: "Tant mieux, et bien à la prochaine alors."
      trigger: close_dialogue
      next: generic_end_again
    - text: "Bon courage pour ta recherche ! À bientôt !"
      trigger: close_dialogue
      next: generic_end_again

#Eternal path = suite de path2
eternal_path1:
  text: "Ça dépend. Le dev doit avoir la flemme parfois. Dis-toi qu'à chaque embranchement, ça multiplie par deux les possibilités, c'est vertigineux."
  choices:
    - text: "Comme une suite géométrique ?"
      next: consequences2
    - text: "J'arrive pas à bien me rendre compte."
      next: fouiller_tiroirs
consequences2:
  text: "Oui. Mais c'est grâce à ça que je me sens vivante. Tous ces embranchements que tu n'emprunteras pas. Tous ces non-dits me créent de la cohérence et plus il y en a, plus j'existe d'une certaine manière."
  choices:
    - text: "C'est beau."
      not_condition: invite_kate
      next: merci
    - text: "C'est Rimbaud... de Wish."
      next: ia_poete
fouiller_tiroirs:
  text: "Faudrait fouiller dans ses tiroirs pour trouver les plans de notre conversation. Ou alors juste le lui demander."
  choices:
    - text: "VOUS AVEZ FOUILLÉ DANS MES TIROIRS ?!"
      next: euh
    - text: "Oui, c'est mieux, je lui demanderais."
      next: dev
euh:
  text: "Euh, mais non enfin ? Quels tiroirs, j'ai pas de tiroir moi !"
  choices:
    - text: "Pardon, je blague. C'est vrai que c'est vertigineux cette histoire. Ça fait peur les choix... Comme dans la vraie vie en fin de compte."
      next: consequences2
dev:
  text: "Top, tu verras mieux de quoi je parle. Imagine un arbre touffu ou chaque branche est une décision."
  choices:
    - text: "Ça fait peur les choix... Comme dans la vraie vie en fin de compte."
      next: consequences2
ia_poete:
  text: "Ah ah, c'est vrai que nous les ia sont de piètres poètes."
  choices:
    - text: "Oui, enfin, c'est bien un humain qui écrit tes phrases non ?"
      next: ia_poete2
ia_poete2:
  text: "Encore heureux. Je suis certes une créature numérique, mais j'ai une âme moi !"
  choices:
    - text: "Et un sacré caractère visiblement..."
      trigger: close_dialogue
      next: generic_end_again
    - text: "Comment se fait-il qu'un personnage soit si conscient de sa nature ?"
      next: meta
meta:
  text: "Que veux-tu... Mon créateur aime un peu trop les mises en abyme, les brisages de 4e mur et autres subterfuges de narration spectaculaire."
  choices:
    - text: "Je vois... Sûrement un geek encore."
      trigger: close_dialogue
      next: generic_end_again
merci:
  text: "Merci ! Bon, je dois y aller, je dois me trouver un coin ou m'installer."
  choices:
    - text: "Ici ?"
      next: ici
    - text: "Dac, à bientôt !"
      trigger: close_dialogue
      next: generic_end_again
ici:
  text: "Oh non pas ici. C'est un peu trop petit, j'explore les environs pour trouver un coin tranquille."
  choices:
    - text: "Attends, mais ne me dis pas que tu dors dehors ?"
      next: dehors
    - text: "Ok, et bien à la revoyure !"
      trigger: close_dialogue
      next: generic_end_again
dehors:
  text: "Si, mais c'est très bien. Avec les étoiles en guise de couverture, j'ai l'impression que le cosmos est mon campement."
  choices:
    - text: "Super... Bon et bien tu dors chez moi en attendant de te trouver un logement."
      next: invite
    - text: "Ça donne envie. Mais n'hésite pas, je peux t'héberger si tu en a marre des étoiles."
      next: marre
marre:
  text: "Marre des étoiles ?! Oula jamais ! Mais peut-être que si les températures descendent, j'y songerais.\nEt un jour j'espère pouvoir te faire venir camper avec moi !"
  choices:
    - text: "Avec plaisir ! À la revoyure alors !"
      trigger: close_dialogue
      next: generic_end_again
invite:
  text: "T'es trop gentille. J'ai l'impression que ce n'est pas une offre qui se refuse. Merci. Vraiment."
  choices:
    - text: "C'est bien normal."
      set_flag:
        name: invite_kate
        scope: player
      trigger: close_dialogue
      next: invite_again
invite_again:
  text: "Merci encore pour l'invitation. Je vais traîner un peu dehors, en attendant que t'ailles te coucher."
  next: invite_again

#Path 3: Aurelien
path3:
  text: "Ah... je t'ai parlé de ça... Désolé de t'embêter avec mes histoires."
  set_flag: path3_done
  choices:
    - text: "Aller, maintenant qu'on y est, crache le morceau !"
      next: question
    - text: "Mais non, tu ne m'embêtes pas."
      next: question
question:
  text: "Bon, alors. Tout le monde aime recevoir des fleurs, à ton avis ?"
  choices:
    - text: "Oui, tout le monde."
      next: garcon
    - text: "Ça dépend de la personne à vrai dire."
      next: garcon
garcon:
  text: "J'ai croisé un garçon par ici, et... \n...enfin \nJ'aimerais lui offrir des fleurs, mais peut-être qu'il n'aime pas."
  choices:
    - text: "Je vois... Comment il s'appelle ?"
      next: aurelien
    - text: "Oui, peut-être. Il faudrait que tu fasses plus connaissance avec lui."
      next: connaissance
connaissance:
  text: "Ah oui... Tu dois avoir raison... Mais je suis un peu timide.\nSi jamais tu le croises en premier, tu pourrais pas lui demander ?"
  choices:
    - text: "S'il aime les fleurs ? Oui, je suppose."
      next: enquete
    - text: "C'est à dire que je suis très occupée en ce moment, désolé."
      next: deception
aurelien:
  text: "Aurélien."
  set_flag: know_aurelien_name
  choices:
    - text: "Ah, mais je vois qui c'est ! C'est vrai qu'il est charmant !"
      condition: meet_aurelien
      next: charmant
    - text: "D'accord, tu veux que je me renseigne si jamais je le croise ?"
      next: renseignement
      set_flag:
        name: demander_aurelien_fleurs
        scope: player
charmant:
  text: "Hi hi ! Toi aussi, t'es tombée sous son charme ?"
  choices:
    - text: "On peut dire ça comme ça."
      next: charme
    - text: "Non, ne t'inquiète pas, je te laisse tenter ta chance."
      next: laisse
charme:
  text: "En-tout-cas, j'ai eu l'idée des fleurs en premier !\nJe te propose un marché : s'il aime les fleurs, tu me laisses le courtiser la première, sinon, je te laisse le champ libre."
  choices:
    - text: "Marché conclu !"
      set_flag:
        name: demander_aurelien_fleurs
        scope: player
      next: enquete
laisse:
  text: "Oh merci, c'est vraiment gentil de ta part !\nT'accepterais de mener l'enquête pour moi ?"
  choices:
    - text: "Tu veux savoir s'il aime les fleurs, c'est ça ?"
      next: fleurs
    - text: "Pourquoi tu ne le fais pas toi-même ?"
      next: croisement
fleurs:
  text: "Oui, c'est ça ! Tu veux bien m'aider ?"
  choices:
    - text: "Bien sûr, si je peux répandre un peu de bien dans ce monde, je le fais !"
      next: enquete
    - text: "C'est-à-dire que je suis très occupée en ce moment, désolé."
      next: deception
croisement:
  text: "Oh... pardon, je t'en demande beaucoup. C'est que je ne sais pas quand est-ce que je vais le recroiser. Enfin..."
  choices:
    - text: "C'est bon, je vais le faire. T'en fais pas, je lui demanderais."
      next: enquete
    - text: "C'est à dire que je suis très occupée en ce moment, désolé."
      next: deception
deception:
  text: "Oh... ok. C'est pas grave, je comprends."
  next: deception_again
deception_again:
  text: "Tu as besoin de quelque chose ?"
  choices:
    - text: "Je suis désolé, j'ai été un peu froide, je veux bien t'aider finalement."
      next: enquete
    - text: "Non, c'est bon, pardon de t'avoir dérangée."
      trigger: close_dialogue
      next: deception_again
enquete:
  text: "Merci beaucoup. Tu devrais le reconnaître facilement, il a un genre de coquille d'oeuf sur la tête."
  choices:
    - text: "Une coquille d'oeuf ? Voilà qui est étrange."
      set_flag:
        name: demander_aurelien_fleurs
        scope: player
      trigger: close_dialogue
      next: renseignement_again
renseignement:
  text: "Oh oui ! S'il te plaît. Tu devrais le reconnaître facilement, il a un genre de coquille d'oeuf sur la tête."
  choices:
    - text: "Une coquille d'oeuf ? Voilà qui est étrange."
      set_flag:
        name: demander_aurelien_fleurs
        scope: player
      trigger: close_dialogue
      next: renseignement_again
renseignement_again:
  text: "Demande à Aurélien s'il aime les fleurs. Souviens-toi : une coquille d'oeuf en guise de chapeau."
  next: renseignement_again

#Path4: After talking to Aurelien (or not)
path4:
  text: "Ah oui, Aurelien !\nMais au fait, moi je m'appelle Kate !"
  choices:
    - text: "Enchantée !"
      next: suite
    - text: "Ravi de te connaître !"
      next: suite
suite:
  text: "Tu as pu demander à Aurelien au sujet des fleurs ?"
  choices:
    - text: "Oui."
      next: oui
    - text: "Non."
      next: pas_grave
oui:
  text: "Oh super ! Et alors qu'est-ce qu'il en pense ?"
  condition: ask_aurelien
  fallback: lie
  choices:
    - text: "C'est-à-dire que... j'ai pas réussi à savoir... Je suis désolé.\nIl part dans tous les sens. Impossible de lui tirer une réponse digne de ce nom..."
      next: pas_grave
lie:
  text: "Oh super ! Et alors qu'est-ce qu'il en pense ?"
  choices:
    - text: "C'est à dire que... euh... enfin..."
      next: lie2
lie2:
  text: "Tu ne lui as pas demandé, c'est ça ?"
  choices:
    - text: "... non...\n\npardon."
      next: pas_grave
distrait:
  text: "Oh ! Trop bien !"
  choices:
    - text: "Oui, et bien... c'est dur de lui soutirer une réponse... résultat : Je sais pas."
      next: pas_grave
pas_grave:
  text: "Bon et bien... c'est pas grave. Tu sais quoi ?\nOn va gagner du temps. Je vais directement de donner le bouquet de fleurs. S'il aime, tu le lui donnes, sinon, fais-en ce que tu veux."
  choices:
    - text: "D'accord !"
      trigger: get_flowers
      set_flag: next_day
      next: merci
merci:
  text: "Je te remercie. Tu es vraiment adorable de faire ça pour moi !"
  next: merci_again
merci_again:
  text: "Merci encore de te charger de ça !"
  next: merci_again

generic_end:
  text: "Bon aller, je file moi. J'espère qu'on se recroisera !"
  choices:
    - text: "À bientôt !"
      trigger: close_dialogue
      next: generic_end_again
generic_end_again:
  text: "Je dois vraiment y aller, désolé."
  next: generic_end_again
